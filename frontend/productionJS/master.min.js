let activateDropDown=function(){let e,t={};return{setState:function(n){let o=document.getElementById(n);return e=o.options[o.selectedIndex].dataset.attribute,t[n]=e,this},hideOrDisplay:function(){let e=Object.values(t);document.querySelectorAll(".itemprofile").forEach((function(t){let n=0,o="object"==typeof t.dataset.topics&&null!==t.dataset.topics?t.dataset.topics:JSON.parse(t.dataset.topics),a=Object.values(o);e.forEach((function(o,r){(a.includes(o)||void 0===o)&&n++,r===e.length-1&&(n===e.length?"DIV"===document.querySelectorAll(".itemprofile")[0].tagName?t.style.display="flex":t.style.display="table-cell":t.style.display="none")}))}))}}}();function setPhoneCode(e){let t=$("#clientDetails")&&$("#clientDetails").querySelector("#countrycode");t&&t.querySelectorAll("option").forEach(((t,n)=>{t.dataset.countrycode===e&&(t.selected=!0,t.setAttribute("selected","selected"))}))}function setBySessionStore(e){function t(e){setPhoneCode(e&&e.includes("|")?e.split("|")[0]:null),setCountryVal(e)}if(sessionStorage.shippingDestination)t(sessionStorage.shippingDestination);else{if(!e)return;t(e)}}function setCountryVal(e){document.querySelectorAll(".country").forEach(((t,n)=>{t.querySelectorAll("option").forEach(((t,n)=>{t.value===e&&(t.selected=!0,t.setAttribute("selected","selected"))}))}))}function changeEvents(){document.querySelector(".country")&&Array.from(document.querySelectorAll(".country")).forEach(((e,t)=>{e&&e.addEventListener("change",(function(e){e.preventDefault(),sessionStorage.shippingDestination=e.target.value,cart.updateOnServer(),setPhoneCode(e.target.value.split("|")[0]),setCountryVal(e.target.value),document.querySelector(".shippingDestinationLabel")&&document.querySelector(".shippingDestinationLabel").scrollIntoView({block:"start",behavior:"smooth"})}))}))}function yestick(e){e.parentElement.querySelector(".yestick").classList.add("paynowAnimate"),e.previousSibling.classList.add("opacityOne"),e.firstChild.textContent="Added to cart"}function updateCartCount(){var e=document.getElementsByClassName("checkoutItem").length,t=document.getElementById("cartCount");e>0&&(t.style.display="block",t.innerHTML=e),0===e&&(t.style.display="none",t.innerHTML="0")}function updatePurchasedCount(){var e=document.getElementsByClassName("purchasedItem").length,t=document.getElementById("bookingCount");e>0&&(t.style.display="block",t.innerHTML=e),0===e&&(t.style.display="none",t.innerHTML="0")}function CurrencyInput(e,t){e.addEventListener("input",(a=>{!function(e){if(0===e.textContent.length)return;let o=e.textContent.match(/\d+/g),a=o.join("").split(""),r=o.join("");a.splice(a.length,0,a[0]),a.shift(),n=a.join(""),1===r.length&&a.splice(0,0,".0");"0"===a[0]&&3===a.length&&a.shift();r.length>2&&a.splice(a.length-2,0,".");if(a.length>=6)for(i=6;i<a.length;)a.splice(a.length-i,0," "),i+=4;e.textContent=t+" "+a.join(""),e.dataset.incent=n}(e),o()})),e.parentElement.parentElement.querySelector(".tax").addEventListener("input",(e=>{o()}));let n=0;function o(){let o=parseInt(e.parentElement.parentElement.querySelector(".tax").value),r=e.parentElement.parentElement.querySelector(".taxCalc");val=Math.round(n-n/(100+o)*100),r.textContent=a(val,t)}function a(e,t){let n=e.toString().split("");if(1===n.length&&n.splice(n.length-2,0,"0"),n.splice(n.length-2,0,"."),n.length>6)for(let e=6;e<n.length;e+=4)n.splice(n.length-e,0," ");return st=n.join(""),t+" "+st}this.incent=()=>n,this.formatOnly=(e,t)=>{a(e,t)},this.resolveInCent=e=>{let t=e.textContent.match(/\d+/g);t.join("").split("");return t.join("")},e.addEventListener("keydown",(function(t){const n=t.key;if("Backspace"===n||"Delete"===n){let t=e.textContent;e.textContent=t.slice(0,4)+t.slice(5,t.length),7===t.length&&(e.textContent=t.slice(0,4)+t.slice(8,t.length))}}))}function customEvents(){}document.querySelectorAll(".fetchpost").forEach((function(e){e.addEventListener("click",(function(e){var t=e.target.parentElement.dataset.title;window.location.pathname="/blog/"+t}))})),document.addEventListener("DOMContentLoaded",(function(e){changeEvents()})),(()=>{let e=[],t={sessionID:"",cartcode:"",itemrefs:[],shippingDestination:"",status:{}};function n(e,t){Object.keys(e).forEach(((n,o)=>{e[n]=t[n]}))}cart={expose:()=>{},add:function(e,n){let o=JSON.parse(e.dataset.itemrefs);for(let a=0;a<n;a++){let n=o.splice(0,1);e.dataset.itemrefs=JSON.stringify(o),t.itemrefs.push(n[0])}return this},remove:function(e,n){let o=t.itemrefs.indexOf(e);return t.itemrefs.splice(o,1),this},fetchCartData:function(){return xhr(t,"/fetchCartData",(function(o){e=JSON.parse(o),e[0]&&(n(t,e[0].cart),setBySessionStore(e[0].cart.shippingDestination))})),this},fetchView:function(){return xhr(t,"/fetchCartView",(function(e){!function(e){let t=document.querySelectorAll(".shoppingCartModal");for(let n=0;n<t.length;n++){t[n].innerHTML=e;let o=t[n].querySelector(".modal");o.style.display="block",document.body.style.overflow="hidden",toggle.setinst(o),o.querySelector(".circleClose").addEventListener("click",(()=>{toggle.tog(o,"none"),document.body.style.overflow="scroll",document.querySelector("body").style.position="unset"})),n===t.length-1&&changeEvents()}}(e)})),this},addBespokeItem:function(e){let o={},a=new URLSearchParams(window.location.search);for(let e of a)o[e[0]]=e[1];return o.itemtype="tiles",o.price=parseInt(document.querySelector("#panelValue").textContent.replace(/\D+/g,"")),o.theme=Object.keys(o)[0].replace("_colours",""),o.colours=Object.values(o)[0].split("_"),o.cart=t,o.quantity=1,gthing=o,xhr(o,"/bespokeOrder",(function(o){n(t,JSON.parse(o)),yestick(e.target)})),this},updateOnServer:function(e){return t.shippingDestination=sessionStorage.shippingDestination,xhr(t,"/updateCart",(function(e){n(t,JSON.parse(e)),cart.fetchView()})),this},returnCartCode:function(){return t.cartcode}},cart.fetchCartData()})(),document.addEventListener("click",(function(e){if(e.target.classList.contains("addToCartBtn")){let t=parseInt(e.target.closest(".modalContent").querySelector(".quantityInput").textContent);cart.add(e.target,t).updateOnServer(),yestick(e.target)}e.target.classList.contains("addBespokeCartBtn")&&cart.addBespokeItem(e),e.target.classList.contains("removeFromCart")&&cart.remove(e.target.dataset.itemref).updateOnServer(),e.target.classList.contains("shoppingCart")&&cart.fetchView(),e.target.classList.contains("toCheckout")&&(document.querySelector(".cart").scrollIntoView({block:"start",behavior:"smooth"}),document.querySelector(".cart").classList.add("bounce"))})),function(){var e=[];domadd={append:function(t,n,o,a,r,s,i){var c=document.createElement(t);return n&&(c.textContent=n),a&&a.forEach((function(e){c.classList.add(e)})),r&&(c.id=r),s&&s.forEach((function(e,t){c.setAttribute(Object.keys(e)[0],e[Object.keys(e)[0]])})),o instanceof Element||o instanceof HTMLDocument?o.append(c):"ChildOfPrev"===o?e[e.length-1].append(c):document.querySelector(o).append(c),e.push(c),this}},domadd}();const folder2={btns:document.getElementsByClassName("btnnext"),pages:document.getElementsByClassName("page"),shortcut:e=>{"number"!=typeof e&&(e=parseInt(e));for(var t=0;t<folder2.pages.length;t++)t===e?(folder2.pages[t].classList.remove("reduce"),folder2.pages[t].classList.add("focus")):(folder2.pages[t].classList.add("reduce"),folder2.pages[t].classList.remove("focus"),folder2.pages[t].scrollIntoView({block:"start",behavior:"smooth"}))},shortcutnextpage:e=>{setRelCanonical();for(var t=0;t<folder2.pages.length;t++)folder2.pages[t].dataset.address===e?(folder2.pages[t].classList.remove("reduce"),folder2.pages[t].classList.add("focus")):(folder2.pages[t].classList.add("reduce"),folder2.pages[t].classList.remove("focus"))}};function getAddressByFetchThis(e){return document.querySelector('[data-name="'+e+'"]').dataset.address}function getNextPageInArray(e){let t=e.split("|"),n=parseInt(t[t.length-1])+1;t[t.length-1]=n;let o=t.join("|");return document.querySelector('[data-address="'+o+'"]')?document.querySelector('[data-address="'+o+'"]').dataset.address:console.warn("Error, page doesn't exit")}function addParam(e,t,n){let o=new URL(window.location.href);Array.from(o.searchParams).length,o.searchParams.has(e),o.searchParams.set(e,t),window.history.replaceState({page:n},"",o)}if(Array.from(document.getElementsByClassName("btnnext")).forEach(((e,t)=>{e.addEventListener("click",(function(t){let n=getNextPageInArray(e.closest(".page").dataset.address);if(e.dataset.nextpage=n,e.dataset.fetchthis&&"undefined"===e.dataset.nextpage){let t=new URL(window.location.href+"/"+e.dataset.linktext.replace(/ /gi,"_"));window.history.pushState({page:getAddressByFetchThis(e.dataset.fetchthis)},"",t),folder2.shortcutnextpage(getAddressByFetchThis(e.dataset.fetchthis))}else if(e.dataset.parameter&&e.dataset.nextpagename){console.warn("nextpagename is an analog of fetchthis used for param choices");e.dataset.nextpagename.replace(/ /gi,"_");let t,n,o=getAddressByFetchThis(e.dataset.nextpagename);t=e.closest(".page").dataset.name.toLowerCase(),n=e.dataset.parameter.toLowerCase().replace("and ","").replace(",","").replace(/ /gi,"_"),addParam(t,n,o),folder2.shortcutnextpage(o)}else{let t=new URL(window.location.href+"/"+document.querySelector('[data-address="'+n+'"]').dataset.name.replace(/ /gi,"_"));window.history.pushState({page:e.dataset.nextpage},"",t),folder2.shortcutnextpage(e.dataset.nextpage)}document.querySelector("body").scrollIntoView({block:"start",behavior:"smooth"})}))})),window.IntersectionObserver){let e=new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.target.nextSibling.classList||(console.warn(e.target),console.warn("has no nextSibling")),e.isIntersecting?(e.target.classList.add("background0"),e.target.classList.remove("background1"),e.target.nextSibling.classList.add("moveText")):(e.target.classList.add("background1"),e.target.classList.remove("background0"),e.target.nextSibling.classList.remove("moveText"))}))}),{rootMargin:"0px 0px -80% 0px"});document.querySelectorAll(".overlay1").forEach((t=>{e.observe(t)}))}function updateState(e,t,n,o,a,r){return new Promise(((s,i)=>{window.history.pushState({baseapp:e,page:t,theme:n,item:o},a,r),s()}))}function itemModalToggle(){return new Promise(((e,t)=>{""!==window.history.state.item&&openModal(window.history.state.page,document.querySelector("."+window.history.state.item+"-modal"),window.history.state.item),e()}))}function setRelCanonical(e,t){let n=window.location.pathname.split("/");n.length>4&&!n.includes("themes")?(n.includes("shapes")&&(document.querySelector('link[rel="canonical"]').href=window.location.origin+"/shop/themes/"+n[4].replace(" ","_")+"/"+n[5].replace(" ","_")),n.includes("types")&&(document.querySelector('link[rel="canonical"]').href=window.location.origin+"/shop/themes/"+n[4].replace(" ","_")+"/"+n[5].replace(" ","_"))):document.querySelector('link[rel="canonical"]').href=window.location.href}function setStateFromPath(e){let t=e.split("/");if(t.includes("shop")&&!window.location.search){let n=document.querySelector(".focus:not(.reduce)"),o=n.dataset.name?n.dataset.name:"",a=n.dataset.address,r=t[4]?t[4]:"";updateState("shop",a,o,r,o+" "+r,e).then((e=>{setRelCanonical(r,o)}))}}function MakeScroller(){var e,t,n=0,o=[];this.build=function(a,r){t="string"==typeof a?document.querySelector(a):a,e=r;var s=document.createElement("div");s.classList.add("basedimensions"),t.append(s),t.classList.add("imagescroller");var i=document.createElement("div");i.classList.add("btncontainer");var c=document.createElement("div");c.classList.add("rightarrow");var l=document.createElement("div");l.classList.add("leftarrow"),e.forEach((function(t,r){var d=document.createElement("img");d.setAttribute("src",t),0===r&&d.classList.add("imgfit"),s.appendChild(d),o.push(d);var u=document.createElement("div");u.classList.add("imgbtn"),u.addEventListener("click",(function(){o.forEach((function(e,t){e.classList.remove("imgfit"),i.children[t+1].style.backgroundColor="#333"})),o[r].classList.add("imgfit"),n=r,u.style.backgroundColor="#fc3"})),0===r&&i.appendChild(l),i.appendChild(u),i.children[1].style.backgroundColor="#fc3",r===e.length-1&&(i.appendChild(c),a.insertAdjacentElement("afterend",i))})),c.addEventListener("click",(function(){o.forEach((function(e,t){e.classList.remove("imgfit"),i.children[t+1].style.backgroundColor="#fc3"})),i.children[n+1].style.backgroundColor="#333",++n===o.length&&(n=0),o[n].classList.add("imgfit")})),l.addEventListener("click",(function(){o.forEach((function(e,t){e.classList.remove("imgfit")})),0===n&&(n=o.length),n--,o[n].classList.add("imgfit")}))}}function MakeScroller2(){let e,t,n=[];this.build=function(o,a){if(e=a,t="string"==typeof o?document.querySelector(o):o,t.firstChild)return;let r=document.createElement("div");t.appendChild(r),r.classList.add("basedimensions");let s=document.createElement("div");r.appendChild(s),e.length>1?s.classList.add("left","imgScroller","scrollerArrowLeft"):s.classList.add("left","imgScroller");let i=document.createElement("div");r.appendChild(i),i.classList.add("main","imgScroller"),i.setAttribute("title","Click image to enlarge it, then click to shrink");let c=document.createElement("div");function l(e){let t=document.createElement("img");return t.setAttribute("src",e),t.setAttribute("alt",e),t.classList.add("smooth","imgScroller"),n.push(t),t}function d(e){let t=document.createElement("video");return t.setAttribute("src",e),t.classList.add("smooth","imgScroller"),n.push(t),t}r.appendChild(c),e.length>1?c.classList.add("right","imgScroller","scrollerArrowRight"):c.classList.add("right","imgScroller"),t.appendChild(r);for(let e=0;e<a.length;e++){let t;window.location.hostname;t="mp4"===a[e].split(".")[1]?d(a[e]):l(a[e]),r.children[e]&&(1===a.length?(r.children[1].appendChild(t),"VIDEO"===t.tagName&&(t.controls=!0)):(r.children[e].appendChild(t),"VIDEO"===t.tagName&&(t.controls=!0)))}function u(e){e.parentElement.classList.contains("fullScreenImg")?(e.parentElement.classList.add("main"),e.parentElement.classList.remove("fullScreenImg")):(e.parentElement.classList.add("fullScreenImg"),e.parentElement.classList.remove("main"))}function p(){let e=r.children.length;for(let t=0;t<e;t++)n[t]&&(n[t].classList.remove("smooth"),setTimeout((function(){for(;r.children[t].firstChild;)r.children[t].firstChild.remove();r.children[t].appendChild(n[t])}),250),setTimeout((function(){n[t].classList.add("smooth")}),350),setTimeout((function(){document.querySelectorAll("video").forEach(((e,t)=>{e.parentElement.classList.contains("main")?e.controls=!0:e.controls=!1}))}),360))}r.querySelectorAll(".imgScroller").forEach((e=>{e.addEventListener("click",(e=>{e.stopPropagation(),function(e){if(e.parentElement.classList.contains("main"))u(e);else if(e.parentElement.classList.contains("fullScreenImg"))u(e);else if(e.parentElement.classList.contains("right")){let e=n.shift();n.splice(n.length,0,e),p()}else{if(!e.parentElement.classList.contains("left"))return;{let e=n.pop();n.splice(0,0,e),p()}}}(e.target)}))}))}}function initMap(){"/visit"===window.location.pathname&&window.setTimeout((function(){let e=document.querySelector(".map").dataset.lat,t=document.querySelector(".map").dataset.lng,n=new MapFunctions(".map",[e,t]);n.init(),n.invalidateSize(),n.addMarker(e,t)}),500)}function backArrow(){window.location.pathname&&window.location.pathname.includes("/shop")?document.querySelector(".arrowBack").classList.remove("hideInSight"):document.querySelector(".arrowBack").classList.add("hideInSight")}function clearTrailingSlash(){let e=window.location.pathname;e.length>1&&"/"===e.slice(e.length-1,e.length)&&(window.location.pathname=e.substring(0,e.length-1))}function url(){let e=window.location.pathname.split("/"),t=window.location.pathname.replace(e[e.length-1],"");return"/"===t.slice(t.length-1,t.length)?t.substring(0,t.length-1):t}function preLoadItems(e,t){for(let n=0;n<e.length;n++){e[n].dataset.fetchthis.match(/'/g)&&e[n].dataset.fetchthis.replace("'","'");let o=document.querySelector('[data-name="'+e[n].dataset.fetchthis+'"]');o.innerHTML.length<5&&xhr({[e[n].dataset.fetchwhat]:e[n].dataset.fetchthis},t,(function(t){o.innerHTML=t;new URL(window.location.href+"/"+e[n].dataset.fetchthis.replace(/ /gi,"_"));n===e.length-1&&(attachCloseEvents(),openModalViaPath())}))}}function openModalViaPath(){let e=window.location.pathname.split("/"),t=document.querySelector(".focus").dataset.address;e[4]&&(item=e.includes("shapes")?e[3].replace(/_/g," "):e[4].replace(/_/g," "),theme=e.includes("shapes")?e[4].replace(/_/g," "):e[3].replace(/_/g," "),target=document.querySelector('.itemModal[data-item="'+escapeQuotes(item)+'"][ data-theme="'+escapeQuotes(theme)+'"]'),openModalSetState(t,target,e[4]))}function fetchItem(e,t){document.querySelector('[data-name="'+e.dataset.fetchthis+'"]').innerHTML.length<10&&xhr({[e.dataset.fetchwhat]:e.dataset.fetchthis},t,(function(t){document.querySelector('[data-name="'+e.dataset.fetchthis+'"]').innerHTML=t;new URL(window.location.href+"/"+e.dataset.fetchthis.replace(/ /gi,"_"));attachCloseEvents()}))}function clickEvents(){document.addEventListener("click",(function(e){if(backArrow(),e.target.classList.contains("printBtn")&&window.print(),e.target.classList.contains("arrowBack")){let e=window.history.state.page.split("|").slice().slice(0,-1);e[e.length-1]=parseInt(e[e.length-1])-1;let t=e.join("|"),n=window.location.href.split("/").slice(0,-1).join("/");if(0===parseInt(window.history.state.page))window.location=window.location.origin,openModalViaPath();else if(window.history.state.theme&&!window.history.state.item)folder2.shortcutnextpage(t),updateState("shop",t,null,null,null,n);else if(null===window.history.state.theme&&null===window.history.state.item){let e=window.location.href.split("/").slice(0,-1).join("/");folder2.shortcutnextpage("0"),updateState("shop","0",null,null,null,e)}else window.history.back(),window.onpopstate=function(e){folder2.shortcutnextpage(window.history.state.page),openModalViaPath()}}if(e.target.classList.contains("toCheckoutBtn")){document.querySelector("#cartcode").dataset.cartcode;if(!sessionStorage.shippingDestination)return void swiftmoAlert.setContent('Please choose a country for us to provide shipping prices. Or select\n          the first option "pick up in store" if you will collect your order in\n          person.').toggle();window.location.href="/checkout"}e.target.classList.contains("fetch")&&fetchItem(e.target,"/stockQuery"),e.target.classList.contains("fetchItemTypes")&&fetchItem(e.target,"/stockByItemType"),e.target.classList.contains("fetchItemGroup")&&fetchItem(e.target,"/stockByItemGroup"),"browseSpecial"===e.target.id&&xhr({},"/stockSpecial",(function(t){document.querySelector('[data-name="special"]').innerHTML=t;new URL(window.location.href+"/"+e.target.dataset.fetchthis.replace(/ /gi,"_"));attachCloseEvents()})),e.target.classList.contains("fetchPost")&&document.querySelector('[data-name="'+e.target.dataset.fetchthis+'"]').innerHTML.length<10&&xhr({[e.target.dataset.fetchwhat]:e.target.dataset.fetchthis},"/postQuery",(function(t){document.querySelector('[data-name="'+e.target.dataset.fetchthis+'"]').innerHTML=t;new URL(window.location.href+"/"+e.target.dataset.fetchthis.replace(/ /gi,"_"))})),e.target.classList.contains("toggleByThemeModal")&&openModalSetState(window.history.state.page,e.target.nextSibling,e.target.nextSibling.dataset.theme.replace(/ /g,"_")),e.target.classList.contains("toggleModal")&&!e.target.classList.contains("shoppingCart")&&openModalSetState(window.history.state.page,e.target.nextSibling,e.target.nextSibling.dataset.item.replace(/ /g,"_")),e.target.classList.contains("question")?(e.target.nextSibling.classList.contains("infodisplay")?e.target.nextSibling.classList.remove("infodisplay"):e.target.nextSibling.classList.add("infodisplay"),e.target.nextSibling.querySelector(".circle").addEventListener("click",(function(t){e.target.nextSibling.classList.remove("infodisplay")}))):document.querySelectorAll(".infodisplay").forEach((function(e,t){e.classList.remove("infodisplay")})),e.target.classList.contains("toggleinvoiceaddress")&&(e.preventDefault(),e.target.parentElement.nextSibling.classList.contains("hide")?(e.target.parentElement.nextSibling.classList.remove("hide"),document.querySelector("#clientinvoicename").focus(),document.querySelector("#clientinvoicename").parentElement.scrollIntoView()):(e.target.parentElement.nextSibling.classList.add("hide"),document.querySelector("#savedetails").focus(),document.querySelector("#savedetails").parentElement.scrollIntoView())),e.target.classList.contains("toggleFetchByConfcode")&&(e.preventDefault(),document.querySelector("#clientCodeInput").classList.contains("hide")?(document.querySelector("#clientCodeInput").classList.remove("hide"),document.querySelector("#clientcode").focus(),document.querySelector("#clientCodeInput").scrollIntoView(),document.querySelector("#clientcode").addEventListener("input",fetchClientDetails)):(document.querySelector("#clientCodeInput").classList.add("hide"),document.querySelector("#countrycode").focus(),document.querySelector("#countrycode").parentElement.scrollIntoView())),e.target.classList.contains("toPaymentBtn")&&(e.preventDefault(),makeCustomerForm())}))}function fetchClientDetails(e){if(8===e.target.value.length){let t=document.querySelector("#clientemail").value;xhr({clientcode:e.target.value,email:t},"/registerClient",(function(e){let t=JSON.parse(e),n=Object.keys(t);for(let e=0;e<n.length;e++){let o=t[n[e]],a=document.querySelector('[name="'+n[e]+'"]');if(e===n.length-1){initStripeCartCode(document.querySelector(".payment-form"),null),folder2.shortcut("1"),document.querySelector(".payment-form").scrollIntoView()}else{if("_id"===n[e]||"clientcode"===n[e])continue;"checkbox"===a.type?a.setAttribute("checked","checked"):"text"===a.type?a.value=o:"SELECT"===a.tagName&&setOption(a,o)}}}))}}function setOption(e,t){for(let n=0,o=e.options.length;n<o;++n)if(e.options[n].value===t){e.selectedIndex=n;break}}function makeCustomerForm(){let e=$("#clientDetails").querySelector("form"),t=["#clientemail","#countrycode","#clientphonenumber","#clientname","#clientaddressline1","#addresscity",".country","#addresspostcode"];for(var n=0;n<t.length;n++)""===$(t[n]).value?($(t[n]).classList.add("attentionBorder"),swiftmoAlert.setContent(`We require you to fillout ${t[n]} details`).toggle(),$(t[n]).scrollIntoView()):$(t[n]).classList.remove("attentionBorder"),$(t[n]).addEventListener("input",(function(e){$(t[n]).classList.remove("attentionBorder")}));formxhr(new FormData(e),"/registerClient",(function(e){let t=$(".payment-form");initStripeCartCode(t,null),folder2.shortcut("1"),t.scrollIntoView({block:"end",behavior:"smooth",inline:"center"})}))}function addScroller(e){var t=new MakeScroller2;e&&null===e.firstChild&&t.build(e,JSON.parse(e.dataset.imagelinks)),document.querySelector(".basedimensions .left").innerHTML}function openModal(e,t,n){if(t.style.display="block",addScroller(t.querySelector(".scroller")),!1===t.querySelector(".plus").classList.contains("hasEvent")){t.querySelector(".plus").classList.add("hasEvent"),t.querySelector(".plus").addEventListener("click",(function(){let e=t.querySelector(".plus").previousSibling.firstChild,n=parseInt(e.dataset.max),o=parseInt(e.textContent);o<n&&(e.textContent=o+1);o>=n&&swiftmoAlert.setContent("We don't have your desired quantity in stock by the looks, please drop us an e-mail with your request.").toggle()}))}t.querySelector(".minus").addEventListener("click",(function(){let e=t.querySelector(".plus").previousSibling.firstChild,n=parseInt(e.textContent);n>0&&(e.textContent=n-1)})),document.body.style.overflow="scroll"}function openModalSetState(e,t,n){openModal(e,t,n);let o=window.location.pathname.split("/").length;setStateFromPath(function(){let e;return e=window.location.pathname.split("/").includes("types")?o<5?window.location.pathname+"/"+t.dataset.theme.replace(/ /g,"_")+"/"+t.dataset.item.replace(/ /g,"_"):window.location.pathname:o<5?window.location.pathname+"/"+n.replace(/ /g,"_"):window.location.pathname,e}())}function attachCloseEvents(){document.querySelectorAll(".itemModal").forEach((e=>{toggle.setinst(e),attachClose.attach(e.querySelectorAll(".circleClose"))})),document.addEventListener("click",(e=>{e.target.classList.contains("question")&&(e.target.nextSibling.classList.add("infodisplay"),e.target.nextSibling.querySelector(".circle").addEventListener("click",(t=>{e.target.nextSibling.classList.remove("infodisplay")})))}))}window.onpopstate=function(e){folder2.shortcutnextpage(window.history.state.page)},document.addEventListener("DOMContentLoaded",(function(e){if(swiftmoAlert.set(),clearTrailingSlash(),cart.fetchCartData(),changeEvents(),clickEvents(),initMap(),document.querySelector(".folder")&&folder2.reset().reattachEvents().foldercontinue(),window.location.pathname.includes("/blog")&&eventOnAll(".topics",(()=>activateDropDown.setState("topicsfilter").hideOrDisplay())),window.location.pathname.includes("/shop/shapes")){preLoadItems(Array.from(document.querySelectorAll(".fetchItemTypes")),"/stockByItemType")}if(window.location.pathname.includes("/shop/themes")){preLoadItems(Array.from(document.querySelectorAll(".fetch")),"/stockQuery")}window.location.pathname.includes("/checkout"),window.location.pathname.includes("/shop")&&(0!==document.getElementsByClassName("addToCartBtn").length&&document.getElementsByClassName("addToCartBtn")[0].addEventListener("click",(function(){this.parentElement.querySelector(".yestick").classList.add("paynowAnimate")})),shopEvents()),window.scroll({top:0,left:0,behavior:"smooth"});let t=document.querySelector(".menuTablet"),n=t.offsetTop;window.onscroll=function(){window.pageYOffset>n?(t.classList.add("sticky"),document.querySelector(".guttersBody").classList.add("gutterMargin")):(window.pageYOffset,t.classList.remove("sticky"),document.querySelector(".guttersBody").classList.remove("gutterMargin"))},0===window.pageYOffset&&t.classList.remove("sticky")}));const attachClose={eventsAttached:[],attach:function(e){e.forEach((function(e,t){attachClose.eventsAttached.includes(e)||(attachClose.eventsAttached.push(e),e.addEventListener("click",attachClose.close))}))},close:function(e){document.querySelector("body").style.position="unset",toggle.tog(e.target.closest(".itemModal"),"none"),document.body.style.overflow="scroll";let t=window.location.pathname.split("/");if(5===t.length&&t.includes("shop")){t.pop(),setStateFromPath(t.join("/"))}}};function MapFunctions(e,t){let n,o=!1;this.init=function(){if(!1===o){let o=document.createElement("div");document.querySelector(e).appendChild(o),n=L.map(o,{layers:[L.tileLayer("https://tile.openstreetmap.org/${z}/${x}/${y}.png\t",{attribution:"<a href='http://www.openstreetmap.org/copyright'>OpenStreetMap</a>"})],preferCanvas:!0,center:t,zoom:11}),L.control.scale().addTo(n).setPosition("bottomright")}return o=!0,this},this.invalidateSize=function(){return n.invalidateSize()},this.addMarker=function(e,t){L.marker([e,t]).addTo(n).bindPopup("Coordinates: "+e+","+t).openPopup(),n.setView([e,t],11)}}function formatDate(e){let t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()}function eventOnAll(e,t){let n=document.querySelectorAll(e);for(let e=0;e<n.length;e++)n[e].addEventListener("change",(n=>{t(n,e)}))}function escapeQuotes(e){return e.replace("'","'")}function any(e,t){return e.includes(t)}function setOption(e,t){e.querySelectorAll("option").forEach(((e,n)=>{e.textContent===t&&e.setAttribute("selected","selected")}))}function $(e){return document.querySelector(e)}function nav(){document.querySelector(".navColapseBtn")&&(document.querySelector(".navColapseBtn").classList.add("scaled"),document.querySelector(".navColapseBtn").addEventListener("click",(function(e){let t=document.querySelector(".navColapseDiv");t.classList.contains("shownav")?(t.classList.remove("shownav"),document.body.style.overflow="scroll",e.target.classList.remove("navColapseBtnX")):(t.classList.add("shownav"),document.body.style.overflow="hidden",e.target.classList.add("navColapseBtnX"))})))}function selectElementContents(e){var t=document.createRange();t.selectNodeContents(e);var n=window.getSelection();n.removeAllRanges(),n.addRange(t)}function scaleCaptcha(e){var t=document.querySelector("#inPageRecaptcha").width();if(304>t){var n=t/304;document.querySelectorALL(".g-recaptcha").forEach((function(e){e.style.transform="scale("+n+")"}))}}function clearchildren(e){for(var t=document.querySelector(e);t.firstChild;)t.removeChild(t.firstChild)}document.addEventListener("click",(e=>{e.target.classList.contains("question")&&(e.target.nextSibling.classList.add("infodisplay"),e.target.nextSibling.querySelector(".circle").addEventListener("click",(t=>{e.target.nextSibling.classList.remove("infodisplay")})))})),window.onload=nav();var swiftmoAlert={set:function(){return toggle.setinst(".alertmodal"),document.querySelector(".circleClose").addEventListener("click",(function(e){toggle.tog(".alertmodal","none"),e.stopPropagation()})),document.addEventListener("keydown",(e=>{"Space"===e.code&&"block"===document.querySelector(".alertmodal").style.display&&(toggle.tog(".alertmodal","none"),e.stopPropagation())})),this},toggle:function(){return toggle.tog(".alertmodal"),this},setContent:function(e){return document.querySelector(".alertmodalcontentP").textContent=e,this},confirm:function(e){var t=document.createElement("button");t.textContent="confirm";var n=document.createElement("button");return n.textContent="cancel",document.querySelector(".alertmodalcontentP").append(t),document.querySelector(".alertmodalcontentP").append(n),t.addEventListener("click",(function(){swiftmoAlert.toggle(),e.iftrue()})),n.addEventListener("click",(function(){swiftmoAlert.toggle(),e.iffalse()})),this},swiftMoAffirm:function(){}};function SwiftmoAlert(){var e,t=new toggle,n=1;this.test=function(){alert("spin")},this.clear=function(e){return clearchildren(e),this},this.targetAndDeploy=function(n){return t.setinst(n),(e=document.createElement("p")).classList.add("alertdiv"),document.querySelector(n).appendChild(e),document.querySelector(n).style.display="none",this},this.message=function(t){return e.textContent=t,this},this.toggle=function(e){return++n%2==0?(t.tog(e,"block"),document.querySelector(e).scrollIntoView({block:"start",behavior:"smooth"}),window.setTimeout((function(){document.querySelector(e).classList.add("bounce","bounce-4")}),500)):t.tog(e,"none"),this}}function sendMessage(e){return new Promise((function(t,n){var o=new MessageChannel;o.port1.onmessage=function(e){e.data.error?n(e.data.error):t(e.data)},navigator.serviceWorker.controller.postMessage(e,[o.port2])}))}function NumberChooser(){let e,t;this.attach=function(n,o,a,r,s){return e=n.querySelector(".plus").previousSibling.firstChild,t=parseInt(e.textContent),n.querySelector(".plus").addEventListener("click",(function(){null!=a?t<a&&(t+=o,e.textContent=t):(t+=o,e.textContent=t),s(t)})),n.querySelector(".minus").addEventListener("click",(function(){null!=r?t>r&&(t-=o,e.textContent=t):(t-=o,e.textContent=t),s(t)})),this},this.value=function(){return t}}function shopEvents(){customEvents(),window.history.pushState({page:"0"},"",window.location),Array.from(document.querySelectorAll("[data-backgroundImage]")).forEach(((e,t)=>{e.style.backgroundImage='url("'+e.dataset.backgroundimage+'")'}))}function panelPrice(e,t){if(e>0&&t>0){return e*t/225*2e3}}function imperial(e){let t=.032808*e,n=(t%1*100/12).toPrecision(2),o="";return o+=t>1?t.toString().split(".")[0]+"' "+n+'"':n+'"',o}function formatGivenNumber(e,t){let n=e.toString().split("");if(1===n.length&&n.splice(n.length-2,0,"0"),n.splice(n.length-2,0,"."),n.length>6)for(let e=6;e<n.length;e+=4)n.splice(n.length-e,0," ");return st=n.join(""),t+" "+st}function initStripeCartCode(e,t){let n=Stripe(process.env.stripeToken),o=n.elements().create("card");function a(t){const n=new FormData(e);n.append("stripeTokenSCA",t.paymentMethod.id),formxhr(n,"/globalPayment",(function(t){var n=JSON.parse(t);n.error?e.querySelector(".card-errors").textContent=n.error:!0===n.requires_action?r(n):(e.querySelector(".paynowNew").classList.add("paynowAnimate"),e.querySelector(".card-errors").textContent="Payment successful",e.querySelector(".card-errors").classList.add("green"),xhr({cartcode:cart.returnCartCode()},"/checkorder",(function(t){document.querySelector("#orderConfirmation").innerHTML=t,folder2.shortcut("2"),e.querySelector(".card-errors").textContent="Payment successful",e.querySelector(".card-errors").classList.remove("green"),e.querySelector(".paymentBtn").disabled=!1})))}))}function r(t){n.handleCardAction(t.payment_intent_client_secret).then((function(n){n.error?e.querySelector(".card-errors").textContent=n.error.message:(n.cartcode=t.cartcode,xhr(n,"/confirmPaymentIntent",(function(t){if(function(e){try{JSON.parse(e)}catch(e){return!1}return!0}(t)){var n=JSON.parse(t);n.error&&(e.querySelector(".card-errors").textContent=n.error),!0===n.requires_action&&r(n)}else e.querySelector(".paynowNew").classList.add("paynowAnimate"),e.querySelector(".card-errors").textContent="Payment successful",e.querySelector(".card-errors").classList.add("green")})))}))}o.mount(e.querySelector(".card-element")),o.addEventListener("change",(function(t){var n=e.querySelector(".card-errors");t.error?n.textContent=t.error.message:n.textContent=""})),e.addEventListener("submit",(function(t){t.preventDefault(),e.querySelector(".paymentBtn").disabled=!0,n.createPaymentMethod("card",o).then((function(t){t.error?e.querySelector(".card-errors").textContent=t.error.message:a(t)}))}))}function offlineWarn(){window.navigator.onLine?document.querySelector(".offline").style.display="none":document.querySelector(".offline").style.display="block"}function xhr(e,t,n){offlineWarn(),afirm=!1;var o=new XMLHttpRequest;o.open("POST",t),o.setRequestHeader("Content-Type","application/json"),o.send(JSON.stringify(e)),1===o.readyState&&(document.body.style.pointerEvents="none"),window.navigator.onLine||(document.body.style.pointerEvents=""),o.onreadystatechange=function(){4===o.readyState&&200===o.status&&o.responseText&&(n(o.responseText),document.body.style.pointerEvents="")}}function xhrget(e,t,n){offlineWarn();var o=new XMLHttpRequest;o.open("GET",t),o.setRequestHeader("Content-Type","application/json"),o.timeout=1e3,o.send(encodeURI(e)),o.ontimeout=function(e){n("404")},o.onreadystatechange=function(){4===o.readyState&&200===o.status&&n(o.responseText),404===o.status&&n("404")}}function formxhr(e,t,n){offlineWarn();var o=new XMLHttpRequest;o.open("POST",t),o.send(e),o.onreadystatechange=function(){4===o.readyState&&200===o.status&&n(o.responseText),4===o.readyState&&500===o.status&&n(o.responseText)}}function asyncXHR(e,t,n){return offlineWarn(),new Promise((o=>{xhr(t,e,(function(e){if("noparse"===n)o(e);else{var t=JSON.parse(e);o(t)}}))}))}!function(){var e=[],t=[];toggle={tog:function(n,o){return"string"==typeof n?t[e.indexOf(n)]%2?document.querySelector(n).style.display=o||"block":document.querySelector(n).style.display="none":"object"==typeof n&&(t[e.indexOf(n)]%2?n.style.display=o||"block":n.style.display="none"),t[e.indexOf(n)]++,this},setinst:function(n){return!1===e.includes(n)?(e.push(n),t.push(1),this):this}}}(),window.addEventListener("DOMContentLoaded",(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js",{scope:"/"}).then((()=>{})).catch((e=>{console.warn(e)}))}));